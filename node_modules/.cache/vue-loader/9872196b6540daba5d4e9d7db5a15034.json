{"remainingRequest":"D:\\HBuilderX编译器\\hbuilderCode\\vuejs资料和代码\\Day 11\\课堂代码\\supermall\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\HBuilderX编译器\\hbuilderCode\\vuejs资料和代码\\Day 11\\课堂代码\\supermall\\src\\views\\detail\\Detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\HBuilderX编译器\\hbuilderCode\\vuejs资料和代码\\Day 11\\课堂代码\\supermall\\src\\views\\detail\\Detail.vue","mtime":1546508324000},{"path":"D:\\HBuilderX编译器\\hbuilderCode\\vuejs资料和代码\\Day 11\\课堂代码\\supermall\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\HBuilderX编译器\\hbuilderCode\\vuejs资料和代码\\Day 11\\课堂代码\\supermall\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\HBuilderX编译器\\hbuilderCode\\vuejs资料和代码\\Day 11\\课堂代码\\supermall\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport DetailNavBar from './childComps/DetailNavBar'\nimport DetailSwiper from './childComps/DetailSwiper'\nimport DetailBaseInfo from './childComps/DetailBaseInfo'\nimport DetailShopInfo from './childComps/DetailShopInfo'\nimport DetailGoodsInfo from './childComps/DetailGoodsInfo'\nimport DetailParamInfo from './childComps/DetailParamInfo'\n\nimport Scroll from 'components/common/scroll/Scroll'\n\nimport {getDetail, Goods, Shop, GoodsParam} from \"network/detail\";\n\nexport default {\n  name: \"Detail\",\n  components: {\n    DetailNavBar,\n    DetailSwiper,\n    DetailBaseInfo,\n    DetailShopInfo,\n    DetailGoodsInfo,\n    DetailParamInfo,\n    Scroll\n  },\n  data() {\n    return {\n      iid: null,\n      topImages: [],\n      goods: {},\n      shop: {},\n      detailInfo: {},\n      paramInfo: {}\n    }\n  },\n  created() {\n    // 1.保存传入的iid\n    this.iid = this.$route.params.iid\n\n    // 2.根据iid请求详情数据\n    getDetail(this.iid).then(res => {\n      // 1.获取顶部的图片轮播数据\n      console.log(res);\n      const data = res.result;\n      this.topImages = data.itemInfo.topImages\n\n      // 2.获取商品信息\n      this.goods = new Goods(data.itemInfo, data.columns, data.shopInfo.services)\n\n      // 3.创建店铺信息的对象\n      this.shop = new Shop(data.shopInfo)\n\n      // 4.保存商品的详情数据\n      this.detailInfo = data.detailInfo;\n\n      // 5.获取参数的信息\n      this.paramInfo = new GoodsParam(data.itemParams.info, data.itemParams.rule)\n    })\n  },\n  methods: {\n    imageLoad() {\n      this.$refs.scroll.refresh()\n    }\n  }\n}\n",{"version":3,"sources":["Detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Detail.vue","sourceRoot":"src\\views\\detail","sourcesContent":["<template>\n  <div id=\"detail\">\n    <detail-nav-bar class=\"detail-nav\"/>\n    <scroll class=\"content\" ref=\"scroll\">\n      <detail-swiper :top-images=\"topImages\"/>\n      <detail-base-info :goods=\"goods\"/>\n      <detail-shop-info :shop=\"shop\"/>\n      <detail-goods-info :detail-info=\"detailInfo\" @imageLoad=\"imageLoad\"/>\n      <detail-param-info :param-info=\"paramInfo\"/>\n    </scroll>\n  </div>\n</template>\n\n<script>\n  import DetailNavBar from './childComps/DetailNavBar'\n  import DetailSwiper from './childComps/DetailSwiper'\n  import DetailBaseInfo from './childComps/DetailBaseInfo'\n  import DetailShopInfo from './childComps/DetailShopInfo'\n  import DetailGoodsInfo from './childComps/DetailGoodsInfo'\n  import DetailParamInfo from './childComps/DetailParamInfo'\n\n  import Scroll from 'components/common/scroll/Scroll'\n\n  import {getDetail, Goods, Shop, GoodsParam} from \"network/detail\";\n\n  export default {\n    name: \"Detail\",\n    components: {\n      DetailNavBar,\n      DetailSwiper,\n      DetailBaseInfo,\n      DetailShopInfo,\n      DetailGoodsInfo,\n      DetailParamInfo,\n      Scroll\n    },\n    data() {\n      return {\n        iid: null,\n        topImages: [],\n        goods: {},\n        shop: {},\n        detailInfo: {},\n        paramInfo: {}\n      }\n    },\n    created() {\n      // 1.保存传入的iid\n      this.iid = this.$route.params.iid\n\n      // 2.根据iid请求详情数据\n      getDetail(this.iid).then(res => {\n        // 1.获取顶部的图片轮播数据\n        console.log(res);\n        const data = res.result;\n        this.topImages = data.itemInfo.topImages\n\n        // 2.获取商品信息\n        this.goods = new Goods(data.itemInfo, data.columns, data.shopInfo.services)\n\n        // 3.创建店铺信息的对象\n        this.shop = new Shop(data.shopInfo)\n\n        // 4.保存商品的详情数据\n        this.detailInfo = data.detailInfo;\n\n        // 5.获取参数的信息\n        this.paramInfo = new GoodsParam(data.itemParams.info, data.itemParams.rule)\n      })\n    },\n    methods: {\n      imageLoad() {\n        this.$refs.scroll.refresh()\n      }\n    }\n  }\n</script>\n\n<style scoped>\n  #detail {\n    position: relative;\n    z-index: 9;\n    background-color: #fff;\n    height: 100vh;\n  }\n\n  .detail-nav {\n    position: relative;\n    z-index: 9;\n    background-color: #fff;\n  }\n\n  .content {\n    height: calc(100% - 44px);\n  }\n</style>\n"]}]}